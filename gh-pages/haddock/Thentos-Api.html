<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Thentos.Api</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Thentos-Api.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">thentos-0.0.1: Privacy-preserving identity management on the web</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Thentos.Api</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Overview</a></li><li><a href="#g:2">Authorization</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:ActionStateGlobal">ActionStateGlobal</a> r = (AcidState <a href="Thentos-Types.html#t:DB">DB</a>, r, <a href="Thentos-Config.html#t:ThentosConfig">ThentosConfig</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ActionState">ActionState</a> r = (<a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> r, <a href="Thentos-Types.html#t:DB">DB</a> -&gt; <a href="Thentos-Types.html#t:TimeStamp">TimeStamp</a> -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> <a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Action">Action</a> r = <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a> (<a href="Thentos-Api.html#t:ActionState">ActionState</a> r) (EitherT <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/System-IO.html#t:IO">IO</a>)</li><li class="src short"><a href="#v:runAction-39-">runAction'</a> :: (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, CPRG r) =&gt; (<a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r), <a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a>) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) a -&gt; m (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a)</li><li class="src short"><a href="#v:runAction">runAction</a> :: (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, CPRG r) =&gt; <a href="Thentos-Api.html#t:ActionState">ActionState</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) a -&gt; m (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a)</li><li class="src short"><a href="#v:catchAction">catchAction</a> ::  <a href="Thentos-Api.html#t:Action">Action</a> r a -&gt; (<a href="Thentos-Types.html#t:ThentosError">ThentosError</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</li><li class="src short"><a href="#v:logActionError">logActionError</a> ::  <a href="Thentos-Api.html#t:Action">Action</a> r a -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</li><li class="src short"><a href="#v:updateAction">updateAction</a> :: <span class="keyword">forall</span> event a r. (UpdateEvent event, EventState event ~ <a href="Thentos-Types.html#t:DB">DB</a>, EventResult event ~ <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a) =&gt; (<a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a> -&gt; event) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</li><li class="src short"><a href="#v:queryAction">queryAction</a> :: <span class="keyword">forall</span> event a r. (QueryEvent event, EventState event ~ <a href="Thentos-Types.html#t:DB">DB</a>, EventResult event ~ <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a) =&gt; (<a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a> -&gt; event) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</li><li class="src short"><a href="#v:addUnconfirmedUser">addUnconfirmedUser</a> :: CPRG r =&gt; <a href="Thentos-Types.html#t:UserFormData">UserFormData</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) (<a href="Thentos-Types.html#t:UserId">UserId</a>, <a href="Thentos-Types.html#t:ConfirmationToken">ConfirmationToken</a>)</li><li class="src short"><a href="#v:addService">addService</a> :: CPRG r =&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) (<a href="Thentos-Types.html#t:ServiceId">ServiceId</a>, <a href="Thentos-Types.html#t:ServiceKey">ServiceKey</a>)</li><li class="src short"><a href="#v:startSession">startSession</a> :: CPRG r =&gt; <a href="Thentos-Types.html#t:Agent">Agent</a> -&gt; <a href="Thentos-Types.html#t:TimeStamp">TimeStamp</a> -&gt; <a href="Thentos-Types.html#t:Timeout">Timeout</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></li><li class="src short"><a href="#v:startSessionNow">startSessionNow</a> :: CPRG r =&gt; <a href="Thentos-Types.html#t:Agent">Agent</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></li><li class="src short"><a href="#v:startSessionNowWithTimeout">startSessionNowWithTimeout</a> :: CPRG r =&gt; (<a href="Thentos-Types.html#t:Agent">Agent</a>, <a href="Thentos-Types.html#t:Timeout">Timeout</a>) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></li><li class="src short"><a href="#v:bumpSession">bumpSession</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r (<a href="Thentos-Types.html#t:SessionToken">SessionToken</a>, <a href="Thentos-Types.html#t:Session">Session</a>)</li><li class="src short"><a href="#v:isActiveSession">isActiveSession</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isActiveSessionAndBump">isActiveSessionAndBump</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isLoggedIntoService">isLoggedIntoService</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Types.html#t:ServiceId">ServiceId</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:addServiceLogin">addServiceLogin</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Types.html#t:ServiceId">ServiceId</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r ()</li><li class="src short"><a href="#v:dropServiceLogin">dropServiceLogin</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Types.html#t:ServiceId">ServiceId</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r ()</li></ul></div><div id="interface"><h1 id="g:1">Overview</h1><div class="doc"><p>Thentos distinguishes between <em>transactions</em> and <em>actions</em>.</p><p><em>transactions</em> are acidic in the sense used in acid-state, and live
 in <code><a href="Thentos-DB-Core.html#t:ThentosQuery">ThentosQuery</a></code> or <code><a href="Thentos-DB-Core.html#t:ThentosUpdate">ThentosUpdate</a></code>, which are monad transformer
 stacks over the corresponding acid-state types.  On top of
 acid-state access, thentos transactions provide error handling and
 authorization management.</p><p><em>actions</em> can be composed of more than one acidic transaction in a
 non-acidic fashion, and possibly do other things involving
 randomness or the system time.  Actions live in the <code><a href="Thentos-Api.html#t:Action">Action</a></code> monad
 transformer stack and provide access to acid-state as well as <code><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/System-IO.html#t:IO">IO</a></code>,
 and authentication management.  <code><a href="Thentos-Api.html#v:queryAction">queryAction</a></code> and <code><a href="Thentos-Api.html#v:updateAction">updateAction</a></code>
 can be used to translate transactions into actions.</p><p>A collection of basic transactions is implemented in <a href="Thentos-DB-Trans.html">Thentos.DB.Trans</a>,
 and one of simple actions is implemented in <a href="Thentos-Api.html">Thentos.Api</a>.  Software using
 Thentos as a library is expected to add more transactions and
 actions and place them in other modules.</p></div><h1 id="g:2">Authorization</h1><div class="doc"><p>Access to acid-state data is protected by <code>DCLabel</code>s from the lio
 package.  Each transaction is called in the context of a clearance
 level (<code><a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a></code>) that describes the privileges of the
 calling user.  Each transaction returns its result together with a
 label (<code><a href="Thentos-Types.html#t:ThentosLabel">ThentosLabel</a></code>).  The label must satisfy <code>label <code>canFlowTo</code>
 clearance</code> (see <code>canFlowTo</code>).  The functions <code>accessAction</code>,
 <code><a href="Thentos-Api.html#v:updateAction">updateAction</a></code>, <code><a href="Thentos-Api.html#v:queryAction">queryAction</a></code> take the clearance level from the
 application state and attach it to the acid-state event.</p><p>Labels can be combined to a least upper bound (method <code>lub</code> of type
 class <code>Label</code>).  If several transactions are combined to a new,
 more complex transaction, the latter must be labeled with the least
 upper bound of the more primitive ones.</p><p>In order to avoid having to check label against clearance
 explicitly inside every transaction, we use a Thentos-specific
 derivative of <code>makeAcidic</code> that calls <code><a href="Thentos-DB-Core.html#v:runThentosUpdate">runThentosUpdate</a></code> or
 <code><a href="Thentos-DB-Core.html#v:runThentosQuery">runThentosQuery</a></code>, resp..  (FIXME: not implemented yet!)</p><p>If you need to implement an action that runs with higher clearance
 than the current user can present, <code>accessAction</code> takes a <code><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a></code>
 argument to override the presented clearance.</p><p>See the (admittedly rather sparse) lio documentation for more
 details (or ask the thentos maintainers to elaborate on this :-).</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ActionStateGlobal" class="def">ActionStateGlobal</a> r = (AcidState <a href="Thentos-Types.html#t:DB">DB</a>, r, <a href="Thentos-Config.html#t:ThentosConfig">ThentosConfig</a>)</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ActionState" class="def">ActionState</a> r = (<a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> r, <a href="Thentos-Types.html#t:DB">DB</a> -&gt; <a href="Thentos-Types.html#t:TimeStamp">TimeStamp</a> -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> <a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a>)</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Action" class="def">Action</a> r = <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a> (<a href="Thentos-Api.html#t:ActionState">ActionState</a> r) (EitherT <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/System-IO.html#t:IO">IO</a>)</p></div><div class="top"><p class="src"><a name="v:runAction-39-" class="def">runAction'</a> :: (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, CPRG r) =&gt; (<a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r), <a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a>) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) a -&gt; m (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a)</p></div><div class="top"><p class="src"><a name="v:runAction" class="def">runAction</a> :: (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, CPRG r) =&gt; <a href="Thentos-Api.html#t:ActionState">ActionState</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) a -&gt; m (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a)</p></div><div class="top"><p class="src"><a name="v:catchAction" class="def">catchAction</a> ::  <a href="Thentos-Api.html#t:Action">Action</a> r a -&gt; (<a href="Thentos-Types.html#t:ThentosError">ThentosError</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</p></div><div class="top"><p class="src"><a name="v:logActionError" class="def">logActionError</a> ::  <a href="Thentos-Api.html#t:Action">Action</a> r a -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</p></div><div class="top"><p class="src"><a name="v:updateAction" class="def">updateAction</a> :: <span class="keyword">forall</span> event a r. (UpdateEvent event, EventState event ~ <a href="Thentos-Types.html#t:DB">DB</a>, EventResult event ~ <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a) =&gt; (<a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a> -&gt; event) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</p></div><div class="top"><p class="src"><a name="v:queryAction" class="def">queryAction</a> :: <span class="keyword">forall</span> event a r. (QueryEvent event, EventState event ~ <a href="Thentos-Types.html#t:DB">DB</a>, EventResult event ~ <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Either.html#t:Either">Either</a> <a href="Thentos-Types.html#t:ThentosError">ThentosError</a> a) =&gt; (<a href="Thentos-Types.html#t:ThentosClearance">ThentosClearance</a> -&gt; event) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r a</p></div><div class="top"><p class="src"><a name="v:addUnconfirmedUser" class="def">addUnconfirmedUser</a> :: CPRG r =&gt; <a href="Thentos-Types.html#t:UserFormData">UserFormData</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) (<a href="Thentos-Types.html#t:UserId">UserId</a>, <a href="Thentos-Types.html#t:ConfirmationToken">ConfirmationToken</a>)</p></div><div class="top"><p class="src"><a name="v:addService" class="def">addService</a> :: CPRG r =&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) (<a href="Thentos-Types.html#t:ServiceId">ServiceId</a>, <a href="Thentos-Types.html#t:ServiceKey">ServiceKey</a>)</p></div><div class="top"><p class="src"><a name="v:startSession" class="def">startSession</a> :: CPRG r =&gt; <a href="Thentos-Types.html#t:Agent">Agent</a> -&gt; <a href="Thentos-Types.html#t:TimeStamp">TimeStamp</a> -&gt; <a href="Thentos-Types.html#t:Timeout">Timeout</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></p></div><div class="top"><p class="src"><a name="v:startSessionNow" class="def">startSessionNow</a> :: CPRG r =&gt; <a href="Thentos-Types.html#t:Agent">Agent</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></p><div class="doc"><p>Sessions have a fixed duration of 2 weeks.</p></div></div><div class="top"><p class="src"><a name="v:startSessionNowWithTimeout" class="def">startSessionNowWithTimeout</a> :: CPRG r =&gt; (<a href="Thentos-Types.html#t:Agent">Agent</a>, <a href="Thentos-Types.html#t:Timeout">Timeout</a>) -&gt; <a href="Thentos-Api.html#t:Action">Action</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> r) <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></p><div class="doc"><p>Sessions with explicit timeout.</p></div></div><div class="top"><p class="src"><a name="v:bumpSession" class="def">bumpSession</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r (<a href="Thentos-Types.html#t:SessionToken">SessionToken</a>, <a href="Thentos-Types.html#t:Session">Session</a>)</p></div><div class="top"><p class="src"><a name="v:isActiveSession" class="def">isActiveSession</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></p></div><div class="top"><p class="src"><a name="v:isActiveSessionAndBump" class="def">isActiveSessionAndBump</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></p></div><div class="top"><p class="src"><a name="v:isLoggedIntoService" class="def">isLoggedIntoService</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Types.html#t:ServiceId">ServiceId</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></p></div><div class="top"><p class="src"><a name="v:addServiceLogin" class="def">addServiceLogin</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Types.html#t:ServiceId">ServiceId</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r ()</p></div><div class="top"><p class="src"><a name="v:dropServiceLogin" class="def">dropServiceLogin</a> ::  <a href="Thentos-Types.html#t:SessionToken">SessionToken</a> -&gt; <a href="Thentos-Types.html#t:ServiceId">ServiceId</a> -&gt; <a href="Thentos-Api.html#t:Action">Action</a> r ()</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>