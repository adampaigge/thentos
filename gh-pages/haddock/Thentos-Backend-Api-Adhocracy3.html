<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Thentos.Backend.Api.Adhocracy3</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Thentos-Backend-Api-Adhocracy3.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">thentos-0.0.1: Privacy-preserving identity management on the web</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Thentos.Backend.Api.Adhocracy3</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">data types</a><ul><li><a href="#g:2">basics</a></li><li><a href="#g:3">resource</a></li><li><a href="#g:4">individual resources</a></li><li><a href="#g:5">other types</a></li></ul></li><li><a href="#g:6">main</a></li><li><a href="#g:7">api</a></li><li><a href="#g:8">handler</a></li><li><a href="#g:9">aux</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This is an implementation of
 git@github.com:liqd<em>adhocracy3.git:</em>docs<em>source</em>api/authentication_api.rst</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Path">Path</a> = <a href="#v:Path">Path</a> ST</li><li class="src short"><span class="keyword">data</span> <a href="#t:ContentType">ContentType</a> = <a href="#v:CTUser">CTUser</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PropertySheet">PropertySheet</a><ul class="subs"><li>= <a href="#v:PSUserBasic">PSUserBasic</a></li><li>| <a href="#v:PSPasswordAuthentication">PSPasswordAuthentication</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:A3Resource">A3Resource</a> a = <a href="#v:A3Resource">A3Resource</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a>) (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a>) (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:A3UserNoPass">A3UserNoPass</a> = <a href="#v:A3UserNoPass">A3UserNoPass</a> {<ul class="subs"><li><a href="#v:fromA3UserNoPass">fromA3UserNoPass</a> :: <a href="Thentos-Types.html#t:UserFormData">UserFormData</a></li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:A3UserWithPass">A3UserWithPass</a> = <a href="#v:A3UserWithPass">A3UserWithPass</a> {<ul class="subs"><li><a href="#v:fromA3UserWithPass">fromA3UserWithPass</a> :: <a href="Thentos-Types.html#t:UserFormData">UserFormData</a></li></ul>}</li><li class="src short"><a href="#v:a3UserToJSON">a3UserToJSON</a> :: <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Thentos-Types.html#t:UserFormData">UserFormData</a> -&gt; Value</li><li class="src short"><a href="#v:a3UserFromJSON">a3UserFromJSON</a> :: <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> -&gt; Value -&gt; Parser <a href="Thentos-Types.html#t:UserFormData">UserFormData</a></li><li class="src short"><a href="#v:userNameValid">userNameValid</a> :: ST -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:emailValid">emailValid</a> :: ST -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:passwordGood">passwordGood</a> :: ST -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ActivationRequest">ActivationRequest</a> = <a href="#v:ActivationRequest">ActivationRequest</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LoginRequest">LoginRequest</a><ul class="subs"><li>= <a href="#v:LoginByName">LoginByName</a> <a href="Thentos-Types.html#t:UserName">UserName</a> <a href="Thentos-Types.html#t:UserPass">UserPass</a></li><li>| <a href="#v:LoginByEmail">LoginByEmail</a> <a href="Thentos-Types.html#t:UserEmail">UserEmail</a> <a href="Thentos-Types.html#t:UserPass">UserPass</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:RequestResult">RequestResult</a><ul class="subs"><li>= <a href="#v:RequestSuccess">RequestSuccess</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a> <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></li><li>| <a href="#v:RequestError">RequestError</a> [ST]</li></ul></li><li class="src short"><a href="#v:runBackend">runBackend</a> :: <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> SystemRNG) -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:serveApi">serveApi</a> :: <a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> SystemRNG) -&gt; Application</li><li class="src short"><span class="keyword">type</span> <a href="#t:App">App</a> = (&quot;principals&quot; :&gt; (&quot;users&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a> :&gt; Post (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a>)))) :&lt;|&gt; ((&quot;activate_account&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a> :&gt; Post <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a>)) :&lt;|&gt; ((&quot;login_username&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a> :&gt; Post <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a>)) :&lt;|&gt; ((&quot;login_email&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a> :&gt; Post <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a>)) :&lt;|&gt; <a href="Thentos-Backend-Api-Proxy.html#t:ServiceProxy">ServiceProxy</a>)))</li><li class="src short"><a href="#v:app">app</a> :: <a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> SystemRNG) -&gt; Server <a href="Thentos-Backend-Api-Adhocracy3.html#t:App">App</a></li><li class="src short"><a href="#v:addUser">addUser</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a>)</li><li class="src short"><a href="#v:activate">activate</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></li><li class="src short"><a href="#v:login">login</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></li><li class="src short"><a href="#v:userIdToPath">userIdToPath</a> :: <a href="Thentos-Types.html#t:UserId">UserId</a> -&gt; <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></li><li class="src short"><a href="#v:userIdFromPath">userIdFromPath</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Types.html#t:UserId">UserId</a></li><li class="src short"><a href="#v:confirmationTokenFromPath">confirmationTokenFromPath</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Types.html#t:ConfirmationToken">ConfirmationToken</a></li></ul></div><div id="interface"><h1 id="g:1">data types</h1><h2 id="g:2">basics</h2><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Path" class="def">Path</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Path" class="def">Path</a> ST</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Path" class="caption collapser" onclick="toggleSection('i:Path')">Instances</p><div id="section.i:Path" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Read.html#t:Read">Read</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ContentType" class="def">ContentType</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CTUser" class="def">CTUser</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ContentType" class="caption collapser" onclick="toggleSection('i:ContentType')">Instances</p><div id="section.i:ContentType" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Prelude.html#t:Enum">Enum</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Read.html#t:Read">Read</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:PropertySheet" class="def">PropertySheet</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:PSUserBasic" class="def">PSUserBasic</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:PSPasswordAuthentication" class="def">PSPasswordAuthentication</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:PropertySheet" class="caption collapser" onclick="toggleSection('i:PropertySheet')">Instances</p><div id="section.i:PropertySheet" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:PropertySheet">PropertySheet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Prelude.html#t:Enum">Enum</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:PropertySheet">PropertySheet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:PropertySheet">PropertySheet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Read.html#t:Read">Read</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:PropertySheet">PropertySheet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:PropertySheet">PropertySheet</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:PropertySheet">PropertySheet</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:3">resource</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:A3Resource" class="def">A3Resource</a> a</p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:A3Resource" class="def">A3Resource</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a>) (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ContentType">ContentType</a>) (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:A3Resource" class="caption collapser" onclick="toggleSection('i:A3Resource')">Instances</p><div id="section.i:A3Resource" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> a =&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON a =&gt; ToJSON (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON a =&gt; FromJSON (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (* -&gt; *) <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:4">individual resources</h2><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:A3UserNoPass" class="def">A3UserNoPass</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:A3UserNoPass" class="def">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fromA3UserNoPass" class="def">fromA3UserNoPass</a> :: <a href="Thentos-Types.html#t:UserFormData">UserFormData</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:A3UserNoPass" class="caption collapser" onclick="toggleSection('i:A3UserNoPass')">Instances</p><div id="section.i:A3UserNoPass" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:A3UserWithPass" class="def">A3UserWithPass</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:A3UserWithPass" class="def">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fromA3UserWithPass" class="def">fromA3UserWithPass</a> :: <a href="Thentos-Types.html#t:UserFormData">UserFormData</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:A3UserWithPass" class="caption collapser" onclick="toggleSection('i:A3UserWithPass')">Instances</p><div id="section.i:A3UserWithPass" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:a3UserToJSON" class="def">a3UserToJSON</a> :: <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Thentos-Types.html#t:UserFormData">UserFormData</a> -&gt; Value</p></div><div class="top"><p class="src"><a name="v:a3UserFromJSON" class="def">a3UserFromJSON</a> :: <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> -&gt; Value -&gt; Parser <a href="Thentos-Types.html#t:UserFormData">UserFormData</a></p></div><div class="top"><p class="src"><a name="v:userNameValid" class="def">userNameValid</a> :: ST -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>constraints on user name: The &quot;name&quot; field in the <a href="IUserBasic.html">IUserBasic</a>
 schema is a non-empty string that can contain any characters except
 '@' (to make user names distinguishable from email addresses). The
 username must not contain any whitespace except single spaces,
 preceded and followed by non-whitespace (no whitespace at begin or
 end, multiple subsequent spaces are forbidden, tabs and newlines
 are forbidden).</p><p>FIXME: not implemented.</p></div></div><div class="top"><p class="src"><a name="v:emailValid" class="def">emailValid</a> :: ST -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>RFC 5322 (sections 3.2.3 and 3.4.1) and RFC 5321</p><p>FIXME: not implemented.</p></div></div><div class="top"><p class="src"><a name="v:passwordGood" class="def">passwordGood</a> :: ST -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Only an empty password is a bad password.</p></div></div><h2 id="g:5">other types</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ActivationRequest" class="def">ActivationRequest</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ActivationRequest" class="def">ActivationRequest</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ActivationRequest" class="caption collapser" onclick="toggleSection('i:ActivationRequest')">Instances</p><div id="section.i:ActivationRequest" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LoginRequest" class="def">LoginRequest</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LoginByName" class="def">LoginByName</a> <a href="Thentos-Types.html#t:UserName">UserName</a> <a href="Thentos-Types.html#t:UserPass">UserPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LoginByEmail" class="def">LoginByEmail</a> <a href="Thentos-Types.html#t:UserEmail">UserEmail</a> <a href="Thentos-Types.html#t:UserPass">UserPass</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:LoginRequest" class="caption collapser" onclick="toggleSection('i:LoginRequest')">Instances</p><div id="section.i:LoginRequest" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:RequestResult" class="def">RequestResult</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:RequestSuccess" class="def">RequestSuccess</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a> <a href="Thentos-Types.html#t:SessionToken">SessionToken</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:RequestError" class="def">RequestError</a> [ST]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:RequestResult" class="caption collapser" onclick="toggleSection('i:RequestResult')">Instances</p><div id="section.i:RequestResult" class="show"><table><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Generic">Generic</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/GHC-Generics.html#t:Rep">Rep</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:6">main</h1><div class="top"><p class="src"><a name="v:runBackend" class="def">runBackend</a> :: <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> SystemRNG) -&gt; <a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</p></div><div class="top"><p class="src"><a name="v:serveApi" class="def">serveApi</a> :: <a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> SystemRNG) -&gt; Application</p></div><h1 id="g:7">api</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:App" class="def">App</a> = (&quot;principals&quot; :&gt; (&quot;users&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a> :&gt; Post (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a>)))) :&lt;|&gt; ((&quot;activate_account&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a> :&gt; Post <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a>)) :&lt;|&gt; ((&quot;login_username&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a> :&gt; Post <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a>)) :&lt;|&gt; ((&quot;login_email&quot; :&gt; (ReqBody <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a> :&gt; Post <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a>)) :&lt;|&gt; <a href="Thentos-Backend-Api-Proxy.html#t:ServiceProxy">ServiceProxy</a>)))</p><div class="doc"><p>Note: login_username and login_email have identical behavior.  In
 particular, it is not an error to send username and password to
 <code>/login_email</code>.  This makes implementing all sides of the protocol
 a lot easier without sacrificing security.</p></div></div><div class="top"><p class="src"><a name="v:app" class="def">app</a> :: <a href="Thentos-Api.html#t:ActionStateGlobal">ActionStateGlobal</a> (<a href="file:///mnt/slig-sda3/home/mf/opt/ghc/data/active/local/share/doc/ghc/html/libraries/base-4.7.0.2/Control-Concurrent-MVar.html#t:MVar">MVar</a> SystemRNG) -&gt; Server <a href="Thentos-Backend-Api-Adhocracy3.html#t:App">App</a></p></div><h1 id="g:8">handler</h1><div class="top"><p class="src"><a name="v:addUser" class="def">addUser</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserWithPass">A3UserWithPass</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> (<a href="Thentos-Backend-Api-Adhocracy3.html#t:A3Resource">A3Resource</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:A3UserNoPass">A3UserNoPass</a>)</p></div><div class="top"><p class="src"><a name="v:activate" class="def">activate</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:ActivationRequest">ActivationRequest</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></p></div><div class="top"><p class="src"><a name="v:login" class="def">login</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:LoginRequest">LoginRequest</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Backend-Api-Adhocracy3.html#t:RequestResult">RequestResult</a></p><div class="doc"><p>FIXME: check password!</p></div></div><h1 id="g:9">aux</h1><div class="top"><p class="src"><a name="v:userIdToPath" class="def">userIdToPath</a> :: <a href="Thentos-Types.html#t:UserId">UserId</a> -&gt; <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a></p></div><div class="top"><p class="src"><a name="v:userIdFromPath" class="def">userIdFromPath</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Types.html#t:UserId">UserId</a></p></div><div class="top"><p class="src"><a name="v:confirmationTokenFromPath" class="def">confirmationTokenFromPath</a> :: <a href="Thentos-Backend-Api-Adhocracy3.html#t:Path">Path</a> -&gt; <a href="Thentos-Backend-Core.html#t:RestAction">RestAction</a> <a href="Thentos-Types.html#t:ConfirmationToken">ConfirmationToken</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>